<!DOCTYPE html>
<html>
<head>
<meta charset='UTF-8'>
<title>2p Fight!</title>
<style>
canvas{
width:70%;
height:70%;
}
div{
display:block;
border-color:red;
}
#ready{
background-color:green;
}
</style>
</head>
<body id = 'meat'>
<label for='gm'>Choose your gamemode</label>
<select id='gm'>
<option value='vs'>PvP mode</option>
<option value='coop'>Cooperation mode</option>
</select>
<button id='ready'>Play</button>
<script>
document.getElementById('ready').onmousedown = function(){
var typeValue = document.getElementById('gm').value;
var keyDown;
var charwidth = 10;
var charheight = 10;
var fx;
var fy;
var sx;
var sy;
var ox;
var oy;
var oex;
var oey;
var distance;
var distancet;
var sci = 0;
var scii = 0;
var health = 10;
if(typeValue == 'vs'){
alert('The first player,who has the arrow keys(move) and the space bar(kill) is blue,while the other player with AWSD(move) and X(kill) is red.Your color is your score.You want to get 5 points first.To kill,you must be almost be touching each other.');
var content = "<div>";
content += "<canvas id='caone'></canvas>";
content += "<h1 id='fpp' style='color:blue;'>0</h1>";
content += "<h1 id='spp' style='color:red;'>0</h1>";
content += "</div>"
document.getElementById('meat').innerHTML = content;
var pvpArena = document.getElementById('caone');
var draw = pvpArena.getContext('2d');
var arenaW = pvpArena.width;
var arenaH = pvpArena.height;
function spawn(){
fx = Math.round(Math.random()*arenaW);
fy = Math.round(Math.random()*arenaH);
sx = Math.round(Math.random()*arenaW);
sy = Math.round(Math.random()*arenaH);
}
spawn();
function pvplooks(){
draw.clearRect(0,0,arenaW,arenaH);
draw.fillStyle = 'blue';
draw.fillRect(fx,fy,charwidth,charheight);
draw.fillStyle = 'red';
draw.fillRect(sx,sy,charwidth,charheight);
if(fx > arenaW){px = 0;}
if(fy > arenaH){py = 0;}
if(fx < 0){px = arenaH;}
if(fy < 0){py = by;}
if(sx > arenaW){oy = 0;}
if(sy > arenaH){ox = 0;}
if(sx < 0){sx = arenaW;}
if(sy < 0){sy = arenaH;}
document.onkeydown = function(event){
keyDown = event.keyCode;
console.log(keyDown);
if(keyDown == 32){
if(distance < 10){
sci++;
document.getElementById('fpp').innerHTML = sci;
}}
if(keyDown == 88){
if(distance < 10){
scii++;
document.getElementById('spp').innerHTML = scii;
}}
if(keyDown == 37){
fx -= 1;
}
if(keyDown == 40){
fy += 1;
}
if(keyDown == 39){
fx += 1;
}
if(keyDown == 38){
fy -= 1;
}
if(keyDown == 65){
sx -= 1;
}
if(keyDown == 83){
sy += 1;
}
if(keyDown == 68){
sx += 1;
}
if(keyDown == 87){
sy -= 1;
}}}
function findDistance(){
var xo = Math.pow(fx - sx,2);
var yo = Math.pow(fy - sy,2);
distance = Math.sqrt(xo + yo);
}
function winner(){
if(sci == 5 || sci > 5){alert('Player one wins');}
if(scii == 5 || scii > 5){alert('Player two wins');}
}
setInterval(findDistance,30);
setInterval(pvplooks,30);
setInterval(winner,30);
}
if(typeValue == 'coop'){
alert('You will be working together.Your score is orange.The enemy has a score of red.The first player,who has the arrow keys(move) and the space bar(kill) is blue,while the other player with AWSD(move) and X(kill) is green.Your enemy is green.To kill,you must be almost be touching each other.');
var content = "<div>";
content += "<canvas id='coone'></canvas>";
content += "<h1 id='fppspp' style='color:orange;'>0</h1>";
content += "<h1 id='time' style='color:red;'>0</h1>";
content += "</div>"
document.getElementById('meat').innerHTML = content;
var invadeArena = document.getElementById('coone');
var draw = invadeArena.getContext('2d');
var arenaW = invadeArena.width;
var arenaH = invadeArena.height;
function spawnp(){
fx = Math.round(Math.random()*arenaW);
fy = Math.round(Math.random()*arenaH);
sx = Math.round(Math.random()*arenaW);
sy = Math.round(Math.random()*arenaH);
}
function spawno(){
ox = Math.round(Math.random()*arenaW);
oy = Math.round(Math.random()*arenaH);
oex = Math.round(Math.random()*arenaW);
oey = Math.round(Math.random()*arenaH);
}
spawnp();
spawno();
function invade(){
draw.clearRect(0,0,arenaW,arenaH);
draw.fillStyle = 'blue';
draw.fillRect(fx,fy,charwidth,charheight);
draw.fillStyle = 'green';
draw.fillRect(sx,sy,charwidth,charheight);
draw.fillStyle = 'red';
draw.fillRect(ox,oy,charwidth,charheight);
ox++;
oy++;
if(ox > oex){ox = oex;}
if(oy > oey){oy = oey;}
if(fx > arenaW){px = 0;}
if(fy > arenaH){py = 0;}
if(fx < 0){px = arenaW;}
if(fy < 0){py = arenaH;}
if(sx > arenaW){oy = 0;}
if(sy > arenaH){ox = 0;}
if(sx < 0){sx = arenaW;}
if(sy < 0){sy = arenaH;}
document.onkeydown = function(event){
keyDown = event.keyCode;
console.log(keyDown);
if(keyDown == 32){
if(distance < 10){
sci++;
health = 10;
document.getElementById('fppspp').innerHTML = sci;
spawno();
}}
if(keyDown == 88){
if(distancet < 10){
sci++;
health = 10;
document.getElementById('fppspp').innerHTML = sci;
spawno();
}}
if(keyDown == 37){
fx -= 1;
}
if(keyDown == 40){
fy += 1;
}
if(keyDown == 39){
fx += 1;
}
if(keyDown == 38){
fy -= 1;
}
if(keyDown == 65){
sx -= 1;
}
if(keyDown == 83){
sy += 1;
}
if(keyDown == 68){
sx += 1;
}
if(keyDown == 87){
sy -= 1;
}}
if(health == 0 || health < 0){draw.clearRect(0,0,arenaW,arenaH);
charwidth = 0;
charheight = 0;
fx = 0;
sx = 0;
alert('You lose,your score is ' + sci);
}}
function findDistanceF(){
var xo = Math.pow(fx - ox,2);
var yo = Math.pow(fy - oy,2);
distance = Math.sqrt(xo + yo);
}
function findDistanceS(){
var xo = Math.pow(sx - ox,2);
var yo = Math.pow(sy - oy,2);
distancet = Math.sqrt(xo + yo);
}
function oww(){
health--;
document.getElementById('time').innerHTML = health;
}
setInterval(findDistanceF,30);
setInterval(findDistanceS,30);
setInterval(invade,30);
setInterval(oww,1000);
}}
</script>
</body>
</html>